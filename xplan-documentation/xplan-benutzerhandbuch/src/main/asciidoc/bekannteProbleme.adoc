[[bekannte-probleme]]
== Bekannte Probleme

=== Verwendung von Internet Explorer

IMPORTANT: Die Unterstützung von Microsoft Internet Explorer 9/10/11 ist mit Version 4.2 der xPlanBox abgekündigt worden. Bitte nutzen Sie einen anderen Browser wie z. B. Microsoft Edge, Firefox oder Google Chrome.

=== XPlanValidator - Darstellung von geometrischen Fehlern in einer Grafik und im Shape-Datei

Es werden derzeit nur einfache Geometrien (Punkte, Linien und Polygone) im Validierungsbericht des XPlanValidator ausgegeben, Multigeometrien werden nicht dargestellt. In die Shape-Datei können nur Geometrien geschrieben werden, wenn diese auch gerendert werden können.

=== XPlanWMS - Mit Kartenvorschau im XPlanManagerWeb generierter GetMap-Request

Der durch den Button "Plan im neuen Fenster öffnen" unterhalb der Kartenvorschau im XPlanManagerWeb generierte WMS GetMap-Request gibt im Fall, dass noch kein Rasterplan in das System importiert wurde, folgende erwartete Meldung aus:

----
Style default is not defined for layer *P_Planraster
----

Dieses Verhalten resultiert daraus, dass der Raster-Layer wegen
fehlender Rasterpläne noch nicht von dem WMS angeboten wird.

Wenn die URL dennoch genutzt werden soll, muss der Layer [*]P_Planraster
manuell aus der Request URL entfernt werden (Wert des Parameters "LAYERS").

Dies gilt für jede einzelne Planart: Für die URL für BPläne muss z. B.
mindestens ein BPlan mit Rasterdaten vorliegen, für FPläne mindestens
ein FPlan mit Rasterdaten.

=== XPlanManagerWeb - Anzeige der Pläne auf der letzten Seite

Die Ansicht der Pläne im XPlanManagerWeb zeigt auf der letzten Seite immer die letzten 15 Pläne an. Dieses Verhalten tritt sowohl mit oder ohne Auswahl eines Filters auf (siehe dazu die Funktionsbeschreibung in <<xplanmanager-web-auflistung>>).

=== XPlanManagerWeb - Transformation in das INSPIRE Planned Land Use Datenschema

Bei der Transformation von XPlanGML in das INSPIRE Planned Land Use Datenschema können in der vorliegenden Version der xPlanBox die Daten nicht vollständig transformiert werden.
So fehlen u.a. Transformationsregeln für Werte aus Codelisten als auch konfigurierbare Abbildungsregeln für Elemente wie z. B. der INSPIRE ID.
Zugesichert werden kann, dass das über den XPlanInspirePluWFS abgegebene GML gegen das GML-Applikationsschema validiert.
Nicht zugesichert werden kann, dass das GML die Vorgaben aus den Technical Guidelines für das INSPIRE Annex III Datenthema Land Use vollständig erfüllt, sowie dass die Daten aus XPlanGML vollständig in das Zielschema INSPIRE PLU transformiert werden.

=== XPlanManagerWeb - Löschen von einzelnen Plänen aus dem InspirePLU Diensten

Aktuell kann über den XPlanManager ein XPlanArchiv nur aus der XPlanDB-Datenhaltung entfernt werden. Wird ein Plan von XPlanGML nach INSPIRE PLU transformiert und in die InspirePLUDB-Datenhaltung übertragen, kann der transformierte Datensatz nicht über den XPlanManager aus der InspirePLUDB-Datenhaltung entfernt werden.

Eine Umgehung ist das Löschen des Datensatzes aus der InspirePLUDB-Datenhaltung direkt in der Datenbank oder über die WFS-T Schnittstelle des InspirePLUWFS. Zum Löschen eines oder mehrerer Datensätze muss an den InspirePLUWFS eine WFS-T 2.0.0 DELETE Aktion geschickt werden.

=== XPlanManagerWeb - Änderungen der Rasterbasis über die Editorfunktion im XPlanManagerWeb werden nicht übernommen

Bei dem Hinzufügen einer Rasterbasis wird ohne Angabe des Typs ("Keine Auswahl" statt "Scan") der Eintrag nicht in das XPlanGML-Instanzdokument übernommen. Die Referenz auf die Rasterbasis wird beim Speichern nicht in das XPlanGML geschrieben, befindet sich aber in der ZIP-Datei.

=== XPlanManagerWeb - Hinzufügen von einer Datei xplan.gml über die Editorfunktion im XPlanManagerWeb resultiert in korrupten XPlanArchiv

Wird ein Text, Dokument oder eine Rasterbasis mit dem Namen _xplan.gml_ über die Editorfunktion des XPlanManagerWeb hinzugefügt und gespeichert, kann dieses XPlanArchiv danach nicht mehr geöffnet werden. Beim wiederholten Aufruf der Editorfunktion zeigt das System dann den Fehler "500" an.

Der Fehler kann nicht in der xPlanBox behoben werden! Das XPlanArchiv muss aus der Datenhaltung entfernt, korrigiert und dann erneut über den XPlanManager importiert werden.

=== XPlanValidatorAPI - Verwendung von vollqualifizierten Pfaden im HTTP-Header "X-Filename"

Wird der HTTP-Header "X-Filename" mit einem vollqualifizierten Pfad angegeben, kommt es bei der Anfrage eines Reports im Format PDF zu einem HTTP-Statusfehler 500.

Der Fehler kann dadurch umgangen werden, dass im HTTP-Header nur der Dateiname angegeben wird. Der Fehler tritt nicht auf, wenn über den HTTP-Header "Accept" Json oder XML angefragt werden.


=== XPlanManagerCLI - Nutzung falscher Bibliotheken kann beim Import eines Plans zu fehlerhaft erzeugter Konfiguration führen

Für die Erzeugung der deegree Konfigurationsdateien muss zwingend die Bibliothek Apache Xalan 2.7.2 verwendet werden.
Zusätzlich muss sichergestellt sein, dass im Java Classpath des Prozesses, der den XPlanManagerCLI aufruft, keine anderen JAXP (SAX/DOM) Implementierungen vorhanden sind als die Dateien _Saxon-HE-9.9.x.jar_ und _xalan-2.7.2.jar_.

Falls diese Voraussetzungen nicht erfüllt werden, können die erzeugten deegree Konfigurationsdateien für Layer und Themes leere XML Namespace Attribute in Form von `xmlns=""` aufweisen.
Diese Konfigurationsdateien können nicht von deegree geparst werden. Und führen zu einem Systemfehler und verhindern den Start der Dienste.
Eine Umgehung des Fehlers ist möglich, wenn die leeren XML-Namespace-Attribute manuell entfernt werden, ist ein erfolgreiches Parsen und Nutzen der Konfiguration durch deegree wieder möglich.

=== XPlanWMS - Darstellungsvorschriften für Raumordnungspläne

Die Darstellungsvorschriften für Raumordnungspläne sind zum Teil unvollständig. Durch den XPlanWMS werden die betroffenen Ebenen daher nur in der Standarddarstellung ausgegeben.

=== XPlanWMS - Umsetzung von Präsentationsobjekte

Im XPlanWMS ist der Umfang der Darstellung von Präsentationsobjekten nur eingeschränkt implementiert. Über die folgenden Layer werden diese angezeigt:

 * BP_Plan
 ** bp_xp_fpo
 ** bp_xp_lpo
 ** bp_xp_lto
 ** bp_xp_ppo
 ** bp_xp_pto
 * FP_Plan
 ** fp_xp_fpo
 ** fp_xp_lpo
 ** fp_xp_lto
 ** fp_xp_ppo
 ** fp_xp_pto
 * LP_Plan
 ** lp_xp_fpo
 ** lp_xp_lpo
 ** lp_xp_lto
 ** lp_xp_ppo
 ** lp_xp_pto
 * RP_Plan
 ** rp_xp_fpo
 ** rp_xp_lpo
 ** rp_xp_lto
 ** rp_xp_ppo
 ** rp_xp_pto
 * SO_Plan
 ** so_xp_fpo
 ** so_xp_lpo
 ** so_xp_lto
 ** so_xp_ppo
 ** so_xp_pto

Derzeit werden die folgenden Attribute bei der Visualisierung berücksichtigt:

 * XP_LTO
 ** schriftinhalt
 ** position
 * XP_PTO
 ** schriftinhalt
 ** skalierung
 ** drehwinkel
 ** horizontaleAusrichtung
 ** vertikaleAusrichtung
 ** position
 * XP_FPO
 ** Polygon wird mit grauem Umring dargestellt
 ** position
 * XP_LPO
 ** Linie wird grau dargestellt
 ** position
 * XP_PPO
 ** Darstellung erfolgt als Kreis mit grauem Umring
 ** position

[[fehler-melden]]
== Fehler melden

Für den Fall, dass Sie einen Fehler in der xPlanBox finden, erstellen Sie bitte einen  Fehlerbericht unter https://gitlab.opencode.de/diplanung/ozgxplanung/-/issues[OpenCoDE Gitlab Issues].

[[support]]
== Support

Professionellen Support per Telefon oder E-Mail bieten Ihnen die Entwickler von https://www.lat-lon.de[lat/lon] an.
Ihre Supportanfragen schicken Sie bitte an: ​support@lat-lon.de​.
