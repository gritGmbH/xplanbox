[[systemarchitektur-und-schnittstellen]]
== Systemarchitektur und Schnittstellen

Das Gesamtsystem setzt sich aus folgenden Komponenten zusammen:

* <<xplanmanager-cli, XPlanManagerCLI>>
* <<xplanmanager-web, XPlanManagerWeb>>
* <<xplanmanager-api, XPlanManagerAPI>>
* <<xplanvalidator-cli, XPlanValidatorCLI>>
* <<xplanvalidator-web, XPlanValidatorWeb>> inkl. <<xplanvalidator-wms, XPlanValidatorWMS>>
* <<xplanvalidator-api, XPlanValidatorAPI>>
* <<xplanwms, XPlanWMS und XPlanWerkWMS>>
* <<xplanwfs, XPlanWFS>>
* <<xplansynwfs, XPlanSynWFS>>
* <<xplaninspirepluwms, XPlanInspirePluWMS>>
* <<xplaninspirepluwfs, XPlanInspirePluWFS>>
* <<xplanresources, XPlanRessourcen>>

image::Architektur_xPlanBox_einfach.png[Einfache Darstellung]

Abbildung 1: Einfache Datenhaltung

image::Architektur_xPlanBox_komplex.png[Komplexe Darstellung]

Abbildung 2: Separate Datenhaltung

[[xplanmanager-cli]]
=== XPlanManagerCLI

Die Komponente XPlanManagerCLI ist ein Kommandozeilenwerkzeug, welches
dem Fachadministrator der xPlanBox ermöglicht,
die Datenhaltung über das Terminal zu kontrollieren.

[[xplanmanager-web]]
=== XPlanManagerWeb

Die Komponente XPlanManagerWeb ist eine Web-Oberfläche, die dem
Fachadministrator der xPlanBox ermöglicht,
die Datenhaltung über einen Browser zu kontrollieren.

[[xplanmanager-api]]
=== XPlanManagerAPI

Die Komponente XPlanManagerAPI stellt eine REST-Schnittstelle bereit, über die
die Datenhaltung kontrolliert werden kann.

[[xplanvalidator-cli]]
=== XPlanValidatorCLI

Die Komponente XPlanValidatorCLI ist ein Kommandozeilenwerkzeug,
welches dem Fachadministrator der xPlanBox ermöglicht,
XPlanGML-Instanzdokumente über das Terminal zu validieren.

[[xplanvalidator-web]]
=== XPlanValidatorWeb

Die Komponente XPlanValidatorWeb ist eine Web-Oberfläche, welche dem
Fachadministrator der xPlanBox ermöglicht,
XPlanGML-Instanzdokumente über den Browser zu validieren.

[[xplantransform-cli]]
=== XPlanTransformCLI

Die Komponente XPlanTransformCLI ist ein Kommandozeilenwerkzeug,
welches dem Fachadministrator der xPlanBox ermöglicht,
bereits über den XPlanManagerWeb oder das XPlanManagerCLI
importierte Pläne in eine aktuellere XPlanGML Version zu transformieren.

[[xplanvalidator-wms]]
==== XPlanValidatorWMS

Bei der Komponente XPlanValidatorWMS handelt es sich um eine interne Komponente
die vom XPlanValidatorWeb verwendet wird. Validierte Plänen können über den
XPlanValidatorWMS in der Kartenvorschau angezeigt werden.

[[xplanwms]]
=== XPlanWMS und XPlanWerkWMS

Der XPlanWMS und XPlanWerkWMS sind auf dem Standard Web Map Service
(Version 1.1.1 und 1.3.0) des Open Geospatial Consortium (OGC)
basierende Kartendienste. Diese bieten die Möglichkeit,
Visualisierungen von Plandaten sowie Sachinformationsabfragen zu
einzelnen Planinhalten abzufragen. Um diese Plandaten zu visualisieren
bzw. Sachinformationen abzufragen ist es möglich, sowohl eine einfache
(siehe Abbildung 1) als auch eine separate Datenhaltung (siehe Abbildung
2) zu benutzen, in der die Plandaten hinterlegt sind. Dabei wird bei
einer separaten Datenhaltung (In Aufstellung, Festgestellt, Archiviert)
durch die Auswahl des Planstatus, die dazugehörige Datenhaltung und
somit der entsprechende XPlanWMS-Endpoint angesprochen.

Während der XPlanWMS planübergreifend arbeitet, beschränkt sich der
XPlanWerkWMS auf einzelne Planwerke.

* XPlanWMSInAufstellung => In Aufstellung
* XPlanWMSFestgestellt => Festgestellt
* XPlanWMSArchiviert => Archiviert

NOTE: Gleiches gilt für den XPlanWerkWMS, XPlanWFS und XPlanSynWFS

[[xplanwfs]]
=== XPlanWFS

Der XPlanWFS ist ein auf dem Standard Web Feature Service
(Version 1.1.0 und 2.0.0) des Open Geospatial Consortium (OGC)
basierender Dienst zur Abfrage von Vektordaten.

[[xplansynwfs]]
=== XPlanSynWFS

Der XPlanSynWFS dient der Abbildung des synthetisierten
XPlanGML-Anwendungsschemas (XPlanSynGML). Dieses stellt eine
vereinfachte und zusammenfassende Form der verschiedenen XPlanGML
Versionen dar.

[[xplaninspirepluwms]]
=== XPlanInspirePluWMS

Der XPlanInspirePluWMS ist ein INSPIRE View Service für die
Bereitstellung importierter Pläne im INSPIRE Datenthema Planned Land Use (PLU).

[[xplaninspirepluwfs]]
=== XPlanInspirePluWFS

Der XPlanInspirePluWFS ist ein INSPIRE Download Service für die
Bereitstellung importierter Pläne im INSPIRE Datenthema Planned Land Use (PLU).

[[xplanresources]]
=== XPlanRessourcen

Die optionale Komponente XPlanRessourcen bietet eine
Einstiegsseite zu den einzelnen Komponenten der xPlanBox und stellt
Testdaten sowie die Dokumente mit den Konformitätsbedingungen des Standards XPlanung bereit.
